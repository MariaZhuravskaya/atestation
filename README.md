
#   Аттестационное задание

# Задание
1. Создайте веб-приложение, с API интерфейсом и админ-панелью.
2. Создать базу данных используя миграции Django.

# Технические требования:
* Python 3.8+
* Django 3+
* DRF 3.10+
* PostgreSQL 10+

# Требования к реализации:

**1.** Необходимо реализовать модель сети по продаже электроники.
Сеть должна представлять собой иерархическую структуру из 3 уровней:

* Завод;
* Розничная сеть;
* Индивидуальный предприниматель.

Каждое звено сети ссылается только на одного поставщика оборудования 
(не обязательно предыдущего по иерархии). Важно отметить, что уровень иерархии 
определяется не названием звена, а отношением к остальным элементам сети, 
т.е. завод всегда находится на 0 уровне, а если розничная сеть относится напрямую к заводу, 
минуя остальные звенья - её уровень - 1.

**2.** Сделать вывод в админ-панели созданных объектов.

**3.** На странице объекта сети добавить:
* ссылку на «Поставщика»;
* фильтр по названию города;
* «admin action», очищающий задолженность перед поставщиком у выбранных объектов.

**4.** Используя DRF, создать набор представлений:
* CRUD для модели поставщика (запретить обновление через API поля «Задолженность перед поставщиком»);
* Добавить возможность фильтрации объектов по определенной стране.
* Настроить права доступа к API так, чтобы только активные сотрудники имели доступ к API.

## Как установить

1. Склонируйте репозиторий к себе на компьютер с помощью команды `git clone`.
2. Для установки зависимостей через `requirements.txt` используйте команду `pip install -r requirements.txt`.
   
# Для запуска запуска проекта необходимо выполнить следующие действи:

**1.** python manage.py runserver

**2.** Создать БД "chain_stores":

* ### `psql -U postgres`
* ### `create darabase chain_stores`
* ### `\q`

**3.** Загрузить тестовые данные командой: python manage.py loaddata data.json

**4.** Получить токен для авторизации  --http://localhost:8000/users/token/
Согласно заданию, вход разрешен только активным сотрудника, поэтому для входа, необходимо либо 
создать пользователя в БД, либо воспользоваться загруженными данными: логин - admin, пароль - maria

**5.** В файле supplier.api.http написаны для модели "Поставщики" CRUD запросы.


